# install git
yum install -y git

# install Ansible
yum install -y ansible

# install Vagrant 
wget https://releases.hashicorp.com/vagrant/2.0.1/vagrant_2.0.1_x86_64.rpm?_ga=2.266151311.1084437012.1514875446-738854030.1514875446
mv vagrant_2.0.1_x86_64.rpm?_ga=2.266151311.1084437012.1514875446-738854030.1514875446 vagrant2.0.1.rmp
rpm -ivh vagrant_2.0.1_x86_64.rpm

# install VirtualBox
yum install -y gcc
yum install -y kernel-devel
wget http://download.virtualbox.org/virtualbox/rpm/el/virtualbox.repo
mv virtualbox.repo /etc/yum.repos.d/
yum -y install VirtualBox-5.2

## clone all repos
#### git clone https://github.com/acinwinstack/docker-registry.git
#### git clone https://github.com/acinwinstack/kube-manual.git
#### git clone https://github.com/acinwinstack/kube-kubeadm.git
#### git clone https://github.com/acinwinstack/kube-ansible.git

## deploy docker-registry node
cd docker-registry
#### vagrant up
vagrant ssh

## install docker
curl -fsSL "https://get.docker.com/" | sh

## pull necessary images
#### docker pull python
#### docker pull redis
#### docker pull mongodb
#### docker pull nginx

#### vagrant halt


## deploy minikube
curl -LO https://storage.googleapis.com/kubernetes-release/release/$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt)/bin/linux/amd64/kubectl
chmod +x ./kubectl
sudo mv ./kubectl /usr/local/bin/kubectl
curl -Lo minikube https://storage.googleapis.com/minikube/releases/v0.24.1/minikube-linux-amd64 && chmod +x minikube && sudo mv minikube /usr/local/bin/
minikube start
minikube stop

## deploy k8s manual installation lab nodes
cd ../kube-manual
#### vagrant up
#### vagrant halt

## deploy k8s kubeadm installation lab nodes
cd ../kube-kubeadm
#### vagrant up
#### vagrant halt

## deploy k8s lab nodes
cd ../kube-ansible
#### vagrant up
#### vagrant halt

## setup troubleshooting namespace and apps
#### kubectl create --type namespace --name ts


